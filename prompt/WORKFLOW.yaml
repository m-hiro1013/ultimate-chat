workflow:
  version: "0.2.0"
  last_updated: "2026-02-08T00:25:00+09:00"

  # ğŸš¨ æ¯ã‚»ãƒƒã‚·ãƒ§ãƒ³å¿…ãšå‚ç…§ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«
  session_references:
    must_read:
      - path: "gemini.txt"
        description: "Gemini 3 Flash Previewå®Ÿè£…å®Œå…¨ã‚¬ã‚¤ãƒ‰"
      - path: "memo.txt"
        description: "ç©¶æ¥µå®Ÿè£…æ‰‹é †æ›¸"
    optional:
      - path: "prompt/KNOWLEDGE.md"
        description: "éå»ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å¾—ãŸçŸ¥è¦‹"

  last_session_summary: |
    ã€ä»Šå›ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã‚„ã£ãŸã“ã¨ã€‘
    - ãƒ„ãƒ¼ãƒ«é€£æºä¿®æ­£: `url_context`ã‚’æœ‰åŠ¹åŒ–ã—ã€`google_search`ã¨ã®ä½µç”¨ã‚’å®Ÿç¾
    - å¤šæ®µã‚¹ãƒ†ãƒƒãƒ—å®Ÿè£…: `stopWhen` (stepCountIs) ã§æœ€å¤§10ã‚¹ãƒ†ãƒƒãƒ—ã®ãƒªã‚µãƒ¼ãƒãƒ«ãƒ¼ãƒ—ã‚’å¯èƒ½ã«
    - Grounding Metadataæœ‰åŠ¹åŒ–: `route.ts`ã§`sendSources: true`ã‚’è¨­å®šã—ã€å‡ºå…¸è¡¨ç¤ºã«å¯¾å¿œ
    - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¿®æ­£: `InputArea`ã‹ã‚‰APIã¸ã®ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ‡ãƒ¼ã‚¿é€ä¿¡ã‚’å®Ÿè£…
    - æ„å›³åˆ†é¡æœ€é©åŒ–: ãƒ¢ãƒ‡ãƒ«ã‚’Gemini 3 Flashã«çµ±ä¸€ã—ã€`thinkingLevel: 'minimal'`ã§é«˜é€ŸåŒ–
    - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†æœ‰åŠ¹åŒ–: èƒŒæ™¯ã§ã®ä¼šè©±è¦ç´„ç”Ÿæˆã®ãƒ«ãƒ¼ãƒ—ã‚’APIã«çµ±åˆ
    - ã‚³ã‚¹ãƒˆæœ€é©åŒ–: ãƒªã‚µãƒ¼ãƒè¨ˆç”»ã€è¦ç´„ç”Ÿæˆã«`thinkingLevel: 'low'`ã‚’é©ç”¨
    - UIæ”¹å–„: ææ¡ˆãƒãƒƒãƒ—ï¼ˆSuggestionChipï¼‰ã®ã‚¯ãƒªãƒƒã‚¯é€£å‹•ã‚’å®Ÿè£…
    
    ã€æ¬¡ã«ã‚„ã‚‹ã“ã¨ã€‘
    - Vercelãƒ‡ãƒ—ãƒ­ã‚¤ã¨ç’°å¢ƒå¤‰æ•°ã®è¨­å®šï¼ˆGOOGLE_GENERATIVE_AI_API_KEYï¼‰
    - é•·æœŸé‹ç”¨ã§ã®è¦ç´„ç²¾åº¦ã®è©•ä¾¡

  progress:
    current_phase:
      number: 7
      name: "é‹ç”¨ãƒ»æœ€é©åŒ–"
      status: "done"
    
    completed_phases:
      - phase: 1
        name: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—"
        completed_at: "2026-02-06"
      - phase: 2
        name: "ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API"
        completed_at: "2026-02-06"
      - phase: 3
        name: "ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰UI"
        completed_at: "2026-02-07"
      - phase: 4
        name: "ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å±¤"
        completed_at: "2026-02-07"
      - phase: 5
        name: "ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†"
        completed_at: "2026-02-07"
      - phase: 6
        name: "å“è³ªå‘ä¸Šï¼ˆPhase A-Cï¼‰"
        completed_at: "2026-02-08"
      - phase: 7
        name: "é‹ç”¨ãƒ»æœ€é©åŒ–ï¼ˆPhase Fï¼‰"
        completed_at: "2026-02-08"
    
    next_tasks:
      - "Vercelãƒ‡ãƒ—ãƒ­ã‚¤"
      - "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³ï¼ˆnpm auditï¼‰"

  decisions:
    adopted:
      - id: "D001"
        date: "2026-02-07"
        decision: "Gemini 3 Flash Previewã‚’ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã¨ã—ã¦ä½¿ç”¨"
        reason: "æœ€æ–°ã®Thinkingæ©Ÿèƒ½ã¨Google Search Groundingã‚’ã‚µãƒãƒ¼ãƒˆ"
      - id: "D004"
        date: "2026-02-08"
        decision: "èƒŒæ™¯ã‚¿ã‚¹ã‚¯ï¼ˆè¦ç´„ãƒ»è¨ˆç”»ç”Ÿæˆï¼‰ã®thinkingLevelã‚’'low'ã«è¨­å®š"
        reason: "ã‚³ã‚¹ãƒˆå‰Šæ¸›ã¨ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã®ãƒãƒ©ãƒ³ã‚¹ã‚’æœ€é©åŒ–"
      - id: "D005"
        date: "2026-02-08"
        decision: "ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ï¼ˆSearch/URLï¼‰ã‚’å„ªå…ˆã—ã€ã‚«ã‚¹ã‚¿ãƒ ãƒ„ãƒ¼ãƒ«ã®ä¸æ•´åˆã‚’å›é¿"
        reason: "ç¾åœ¨ã€ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã¨ã‚«ã‚¹ã‚¿ãƒ ãƒ„ãƒ¼ãƒ«ã®ä½µç”¨ã«ãŠã‘ã‚‹SDKå´ã®åˆ¶é™ã‚’è€ƒæ…®"

  features:
    completed:
      - id: "F001"
        name: "åŸºæœ¬ãƒãƒ£ãƒƒãƒˆUI"
        status: "done"
      - id: "F002"
        name: "Gemini 3 Flashçµ±åˆ"
        status: "done"
      - id: "F003"
        name: "Google Search Grounding"
        status: "done"
      - id: "F009"
        name: "å“è³ªãƒã‚§ãƒƒã‚¯çµ±åˆ"
        status: "done"
      - id: "F010"
        name: "FileUploadçµ±åˆ"
        status: "done"
      - id: "F012"
        name: "å¤šæ®µãƒªã‚µãƒ¼ãƒï¼ˆæœ€å¤§10ã‚¹ãƒ†ãƒƒãƒ—ï¼‰"
        status: "done"
      - id: "F013"
        name: "ææ¡ˆãƒãƒƒãƒ—é€£å‹•"
        status: "done"
    
    in_progress: []
    
    planned:
      - id: "F011"
        name: "Vercelãƒ‡ãƒ—ãƒ­ã‚¤"

  cautions:
    - "Google Searchã¨URL Contextã¯ä¸¡æ–¹ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ„ãƒ¼ãƒ«ã€‚ã“ã‚Œã‚‰ã«ã‚«ã‚¹ã‚¿ãƒ ãƒ„ãƒ¼ãƒ«ã‚’è¿½åŠ ã™ã‚‹ã¨Function CallingãŒé˜»å®³ã•ã‚Œã‚‹æ—¢çŸ¥ã®åˆ¶é™ãŒã‚ã‚‹"
    - "èƒŒæ™¯ã§ã®è¦ç´„ç”Ÿæˆï¼ˆcheckAndSummarizeï¼‰ã«ã¯æœ‰åŠ¹ãªconversationIdã®é€ä¿¡ãŒå¿…é ˆ"

  repository:
    url: "https://github.com/m-hiro1013/ultimate-chat"
    branch: "main"
